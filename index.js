Object.defineProperty(exports,"__esModule",{value:true});exports.routineHandler=exports.ApiCall=exports.cancelAll=exports.STATUS=exports.createRoutine=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _ApiCallActions=require('./ApiCallActions');Object.defineProperty(exports,'cancelAll',{enumerable:true,get:function get(){return _ApiCallActions.cancelAll;}});var _lodash=require('lodash');var _lodash2=_interopRequireDefault(_lodash);var _reduxActions=require('redux-actions');var _reduxSagaRoutines=require('redux-saga-routines');var _ApiCallSagas=require('./ApiCallSagas');var _ApiCallSagas2=_interopRequireDefault(_ApiCallSagas);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}var createRoutine=exports.createRoutine=function createRoutine(PREFIX,actionCreator,metaCreator){var routine=(0,_reduxSagaRoutines.createRoutine)(PREFIX,actionCreator,metaCreator);routine.RESPONSE=_lodash2.default.replace(routine.TRIGGER,'TRIGGER','RESPONSE');routine.ERROR=_lodash2.default.replace(routine.TRIGGER,'TRIGGER','ERROR');routine.response=function(payload){return{type:routine.RESPONSE,payload:payload};};routine.error=function(payload){return{type:routine.ERROR,payload:payload};};var ROUTINE=(0,_reduxSagaRoutines.bindRoutineToReduxForm)(routine);return _extends(ROUTINE,routine);};var STATUS=exports.STATUS={IDLE:0,FETCHING:1,FETCHED:2,ERROR:-1};exports.default=_ApiCallSagas2.default;var ApiCall=exports.ApiCall=_ApiCallSagas.ApiCall;var routineHandler=exports.routineHandler=function routineHandler(Routine,add,initialState){var _extends2;add=add||{};return(0,_reduxActions.handleActions)(_extends((_extends2={},_defineProperty(_extends2,Routine.TRIGGER,function(state,_ref){var payload=_ref.payload;return _extends({},state,{status:STATUS.FETCHING});}),_defineProperty(_extends2,Routine.SUCCESS,function(state,_ref2){var payload=_ref2.payload;return _extends({},state,{status:STATUS.FETCHED,payload:payload});}),_defineProperty(_extends2,Routine.FAILURE,function(state,_ref3){var payload=_ref3.payload;return _extends({},state,{status:STATUS.ERROR,error:payload});}),_extends2),add),initialState||{status:STATUS.IDLE,payload:[]});};